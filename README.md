# MATEval
MATEval: A Multi-Agent Text Evaluation Framework

This paper has been ACCEPTED as a LONG PAPER presentation by DASFAA 2024 Industrial Track. You can currently access it through the following link: [MATEval](https://arxiv.org/abs/2403.19305)

In the Alipay business scenario, we need to assess open-ended story texts generated by large language models（LLMs）. For this specific business context, we have proposed a multi-agent evaluation framework called "MATEval". Within this framework, we have integrated strategies of self-reflection and Chain-of-Thought (CoT), and we have also introduced a feedback mechanism at the end of each round of discussion. This mechanism evaluates the quality of each discussion round, facilitating consensus. Ultimately, we require a summarizer to consolidate the results of the entire discussion process. We provide two formats of output: one in the form of Q&A pairs, and the other as text reports that are easy for humans to read. Extensive experiments demonstrate that MATEval's evaluation results on two classic story datasets are more aligned with human preferences compared to existing methods.

<img width="855" alt="image" src="https://github.com/AnonymousLYZYY/MATEval/assets/157742453/946a381a-9d2a-4e7e-a73d-4c90eadf3441">

<img width="1409" alt="image" src="https://github.com/liyu19980601/MATEval/assets/44581509/aa088ea1-4ea2-4e62-a617-5c0d3a5a005f">



In the MATEval framework, we select OpenAI’s GPT-4 as our LLMs due to its outstanding performance and API accessibility. We set the temperature parameter to 0 for result reproducibility. GPT-4’s easy access facilitated effective and coherent multi-agent interactions in our experiments.
<img width="1144" alt="image" src="https://github.com/liyu19980601/MATEval/assets/44581509/0d318d71-0110-4c86-836c-5a2d2f20b119">




# MATEval: Multi-Agent Text Evaluation Framework

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![arXiv](https://img.shields.io/badge/arXiv-Paper-<COLOR>.svg)](https://arxiv.org/abs/2403.19305)
[![GitHub Stars](https://img.shields.io/github/stars/kse-ElEvEn/MATEval?style=social)](https://github.com/kse-ElEvEn/MATEval)

**Open-source implementation of the framework from the paper:**  
*[MATEval: A Multi-agent Discussion Framework for Advancing Open-Ended Text Evaluation](https://arxiv.org/abs/2403.19305)*

## 🔍 Overview

MATEval is the first multi-agent framework that simulates **human-like collaborative discussion** for evaluating open-ended text generated by LLMs. Our framework:
✅ Detects 5 types of text errors with human-level accuracy  
✅ Generates explainable evaluation reports  
✅ Achieves **25% higher correlation** with human judgments than existing methods  
✅ Successfully deployed in Alipay's business scenarios

<img width="855" alt="image" src="https://github.com/AnonymousLYZYY/MATEval/assets/157742453/946a381a-9d2a-4e7e-a73d-4c90eadf3441">

## 🚀 Key Features

| Feature | Description |
|---------|-------------|
| 🤖 **Multi-Agent Collaboration** | 3 specialized agents (Evaluator/Feedback/Summarizer) simulate human discussion dynamics |
| 🧠 **Hybrid Reasoning** | Combines Chain-of-Thought (CoT) and Self-Reflection strategies for deeper analysis |
| 📊 **Dual-Format Reports** | Generates both Q&A summaries for researchers and detailed business reports |
| ⚙️ **Auto-Consensus Mechanism** | Intelligent feedback loop resolves disagreements between agents |
| 🔍 **Error Localization** | Pinpoints exact error locations with contextual explanations |

## 📊 Performance Highlights

| Dataset       | Correlation Improvement | Key Strength |
|---------------|-------------------------|--------------|
| ROCStories    | +32% over single-agent  | Logical consistency analysis |
| WritingPrompts| +28% over ChatEval      | Continuity evaluation |
| Alipay-Ant    | +41% human alignment    | Business context understanding |

## 📈 See full experimental results
<img width="464" alt="image" src="https://github.com/user-attachments/assets/09f4a79d-1860-45f2-ac67-a00261834fd4" />


**Requirements**:
- Python 3.8+
- OpenAI API key (for GPT-4 integration)
- PyTorch 1.12+
- Transformers 4.28+



## 📁 Dataset Support

| Dataset       | Language | Domain       | Access |
|---------------|----------|--------------|--------|
| [ROCStories](https://github.com/kse-ElEvEn/MATEval/tree/main/ROC) | English | Daily Stories | Public |
| [WritingPrompts](https://github.com/kse-ElEvEn/MATEval/tree/main/WP) | English | Creative Writing | Public |
| [LOT](https://github.com/kse-ElEvEn/MATEval/tree/main/LOT) | Chinese | Long-form Stories | Public |
| Ant (Alipay)  | Chinese | Business Cases | Private |



## 📜 Citation
```bibtex
@inproceedings{li2024mateval,
  title={MATEval: A Multi-agent Discussion Framework for Advancing Open-Ended Text Evaluation},
  author={Li, Yu and Zhang, Shenyu and Wu, Rui and Huang, Xiutian and Chen, Yongrui and Xu, Wenhao and Qi, Guilin and Min, Dehai},
  booktitle={Proceedings of the 29th International Conference on Database Systems for Advanced Applications},
  year={2024}
}
```

## ☎️ Contact
For business collaborations or technical inquiries:  
📧 Email: [mateval-support@antgroup.com](mailto:mateval-support@antgroup.com)  
🌐 WeChat Official Account: Ant-MATEval

---

**Open Source ≠ Unsupported** - This project is actively maintained by Ant Group's NLP Research Team
```
